{
	"name": "typesDeNoeud2_combat",
	"events": [
		{
			"eventType": "variable",
			"name": "LoadReady",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 575781053920814
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 648515929919233
				}
			],
			"actions": [
				{
					"id": "get-item",
					"objectClass": "LocalStorage",
					"sid": 341896356595319,
					"parameters": {
						"key": "\"deck_tutoperso\""
					}
				},
				{
					"id": "get-item",
					"objectClass": "LocalStorage",
					"sid": 679898981417088,
					"parameters": {
						"key": "\"main_tutoperso\""
					}
				},
				{
					"id": "get-item",
					"objectClass": "LocalStorage",
					"sid": 304255202406781,
					"parameters": {
						"key": "\"def_tutoperso\""
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 914051909246332,
					"parameters": {
						"variable": "LoadReady",
						"value": "0"
					}
				}
			],
			"sid": 693465103466017
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "btnback",
					"sid": 843270636737336
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 666824590798120,
					"parameters": {
						"layout": "Map1"
					}
				}
			],
			"sid": 323437945796043
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-item-get",
					"objectClass": "LocalStorage",
					"sid": 217237288033455,
					"parameters": {
						"key": "\"\""
					}
				}
			],
			"actions": [],
			"sid": 560838731453492,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 492865378159437,
							"parameters": {
								"first-value": "LocalStorage.Key",
								"comparison": 0,
								"second-value": "\"deck_tutoperso\""
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "tutoperso_Deck",
							"sid": 170263924355512,
							"parameters": {
								"json": "LocalStorage.ItemValue"
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 603381039628500,
							"parameters": {
								"variable": "LoadReady",
								"value": "1"
							}
						}
					],
					"sid": 280023412647328
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 450230071563928,
							"parameters": {
								"first-value": "LocalStorage.Key",
								"comparison": 0,
								"second-value": "\"main_tutoperso\""
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "tutoperso_Main",
							"sid": 545498089230533,
							"parameters": {
								"json": "LocalStorage.ItemValue"
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 329199541892692,
							"parameters": {
								"variable": "LoadReady",
								"value": "1"
							}
						}
					],
					"sid": 830078810410016
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 842737777054932,
							"parameters": {
								"first-value": "LocalStorage.Key",
								"comparison": 0,
								"second-value": "\"def_tutoperso\""
							}
						}
					],
					"actions": [
						{
							"id": "load",
							"objectClass": "tutoperso_Defausse",
							"sid": 584387003747405,
							"parameters": {
								"json": "LocalStorage.ItemValue"
							}
						},
						{
							"id": "add-to-eventvar",
							"objectClass": "System",
							"sid": 683793555435160,
							"parameters": {
								"variable": "LoadReady",
								"value": "1"
							}
						}
					],
					"sid": 466713804753378
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 231740885523082,
					"parameters": {
						"first-value": "LoadReady",
						"comparison": 0,
						"second-value": "3"
					}
				}
			],
			"actions": [
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 229241422514279,
					"parameters": {
						"variable": "LoadReady",
						"value": "0"
					}
				}
			],
			"sid": 847489015970075,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "while",
							"objectClass": "System",
							"sid": 518730201409246
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 153994603724345,
							"parameters": {
								"first-value": "tutoperso_Main.Width",
								"comparison": 2,
								"second-value": "5"
							}
						}
					],
					"actions": [],
					"sid": 423180549666046,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 727177660160657,
									"parameters": {
										"first-value": "tutoperso_Deck.Width",
										"comparison": 0,
										"second-value": "0"
									}
								}
							],
							"actions": [],
							"sid": 215938818457225,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 696206327407372,
											"parameters": {
												"first-value": "tutoperso_Defausse.Width",
												"comparison": 4,
												"second-value": "0"
											}
										}
									],
									"actions": [],
									"sid": 889131902088709,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 861983851287391,
													"parameters": {
														"name": "\"i\"",
														"start-index": "0",
														"end-index": "tutoperso_Defausse.Width - 1"
													}
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "tutoperso_Deck",
													"sid": 844686468010904,
													"parameters": {
														"where": "back",
														"value": "tutoperso_Defausse.At( loopindex(\"i\") )",
														"axis": "x"
													}
												},
												{
													"id": "delete",
													"objectClass": "tutoperso_Defausse",
													"sid": 513335997867299,
													"parameters": {
														"index": "tutoperso_Defausse.Width - 1",
														"axis": "x"
													}
												}
											],
											"sid": 473615907178258
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 869201192474153,
											"parameters": {
												"first-value": "tutoperso_Defausse.Width",
												"comparison": 0,
												"second-value": "0"
											}
										},
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 702308398910010,
											"parameters": {
												"first-value": "tutoperso_Deck.Width",
												"comparison": 0,
												"second-value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "stop-loop",
											"objectClass": "System",
											"sid": 313425904882695
										}
									],
									"sid": 901732576801593
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 811134781251021,
									"parameters": {
										"first-value": "tutoperso_Deck.Width",
										"comparison": 4,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "push",
									"objectClass": "tutoperso_Main",
									"sid": 989838324337473,
									"parameters": {
										"where": "back",
										"value": "tutoperso_Deck.At( tutoperso_Deck.Width - 1 )",
										"axis": "x"
									}
								},
								{
									"id": "delete",
									"objectClass": "tutoperso_Deck",
									"sid": 952371687512175,
									"parameters": {
										"index": "tutoperso_Deck.Width - 1",
										"axis": "x"
									}
								}
							],
							"sid": 841819455463379
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "RefreshMain",
							"sid": 858208534123989
						}
					],
					"sid": 367648422515654
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 988819533002360,
					"parameters": {
						"first-value": "LoadReady",
						"comparison": 0,
						"second-value": "3"
					}
				},
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 307113442171763,
					"parameters": {
						"first-value": "tutoperso_Main.Width",
						"comparison": 5,
						"second-value": "5"
					}
				}
			],
			"actions": [
				{
					"id": "set-item",
					"objectClass": "LocalStorage",
					"sid": 731752487652676,
					"parameters": {
						"key": "\"deck_tutoperso\"",
						"value": "tutoperso_Deck.AsJSON"
					}
				},
				{
					"id": "set-item",
					"objectClass": "LocalStorage",
					"sid": 453357813987047,
					"parameters": {
						"key": "\"main_tutoperso\"",
						"value": "tutoperso_Main.AsJSON"
					}
				},
				{
					"id": "set-item",
					"objectClass": "LocalStorage",
					"sid": 355060570539391,
					"parameters": {
						"key": "\"def_tutoperso\"",
						"value": "tutoperso_Defausse.AsJSON"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 589892028255160,
					"parameters": {
						"variable": "LoadReady",
						"value": "0"
					}
				}
			],
			"sid": 667183020536965
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-object-clicked",
					"objectClass": "Souris",
					"sid": 529501536559090,
					"parameters": {
						"mouse-button": "left",
						"click-type": "clicked",
						"object-clicked": "FamCard"
					}
				}
			],
			"actions": [
				{
					"id": "push",
					"objectClass": "tutoperso_Defausse",
					"sid": 417983261116990,
					"parameters": {
						"where": "back",
						"value": "tutoperso_Main.At(FamCard.IndexMain)",
						"axis": "x"
					}
				},
				{
					"id": "delete",
					"objectClass": "tutoperso_Main",
					"sid": 845128355932259,
					"parameters": {
						"index": "FamCard.IndexMain",
						"axis": "x"
					}
				},
				{
					"id": "set-item",
					"objectClass": "LocalStorage",
					"sid": 870628616775256,
					"parameters": {
						"key": "\"main_tutoperso\"",
						"value": "tutoperso_Main.AsJSON"
					}
				},
				{
					"id": "set-item",
					"objectClass": "LocalStorage",
					"sid": 378459017316731,
					"parameters": {
						"key": "\"def_tutoperso\"",
						"value": "tutoperso_Defausse.AsJSON"
					}
				},
				{
					"callFunction": "RefreshMain",
					"sid": 697900673503924
				}
			],
			"sid": 781399965001565
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "Btn_FinTour",
					"sid": 211514986606402
				}
			],
			"actions": [],
			"sid": 353656600095942,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "while",
							"objectClass": "System",
							"sid": 578956316652796
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 819033530845147,
							"parameters": {
								"first-value": "tutoperso_Main.Width ",
								"comparison": 2,
								"second-value": "5"
							}
						}
					],
					"actions": [],
					"sid": 446279120557875,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 122131947113081,
									"parameters": {
										"first-value": "tutoperso_Deck.Width",
										"comparison": 4,
										"second-value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "push",
									"objectClass": "tutoperso_Main",
									"sid": 813815940509734,
									"parameters": {
										"where": "back",
										"value": "tutoperso_Deck.At(tutoperso_Deck.Width - 1)",
										"axis": "x"
									}
								},
								{
									"id": "delete",
									"objectClass": "tutoperso_Deck",
									"sid": 640008182070220,
									"parameters": {
										"index": "tutoperso_Deck.Width - 1",
										"axis": "x"
									}
								}
							],
							"sid": 960604014197048,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 839323430118565,
											"parameters": {
												"first-value": "tutoperso_Deck.Width ",
												"comparison": 0,
												"second-value": "0"
											}
										}
									],
									"actions": [],
									"sid": 575316267043376,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for",
													"objectClass": "System",
													"sid": 568840403208881,
													"parameters": {
														"name": "\"i\"",
														"start-index": "0",
														"end-index": "tutoperso_Defausse.Width - 1"
													}
												}
											],
											"actions": [
												{
													"id": "push",
													"objectClass": "tutoperso_Deck",
													"sid": 113449114788921,
													"parameters": {
														"where": "back",
														"value": "tutoperso_Defausse.At(loopindex(\"i\"))",
														"axis": "x"
													}
												},
												{
													"id": "delete",
													"objectClass": "tutoperso_Defausse",
													"sid": 895384292345514,
													"parameters": {
														"index": "tutoperso_Defausse.Width - 1",
														"axis": "x"
													}
												},
												{
													"id": "shuffle",
													"objectClass": "tutoperso_Deck",
													"sid": 463200948785526,
													"parameters": {
														"axis": "x"
													}
												}
											],
											"sid": 350460119183947
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 608930948233712,
													"parameters": {
														"first-value": "tutoperso_Defausse.Width",
														"comparison": 0,
														"second-value": "0"
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 140817501258412,
													"parameters": {
														"first-value": "tutoperso_Main.Width ",
														"comparison": 2,
														"second-value": "5"
													}
												}
											],
											"actions": [
												{
													"id": "stop-loop",
													"objectClass": "System",
													"sid": 721432256708338
												}
											],
											"sid": 341828081926020
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-item",
									"objectClass": "LocalStorage",
									"sid": 418545185727746,
									"parameters": {
										"key": "\"deck_tutoperso\"",
										"value": "tutoperso_Deck.AsJSON"
									}
								},
								{
									"id": "set-item",
									"objectClass": "LocalStorage",
									"sid": 996908919010256,
									"parameters": {
										"key": "\"main_tutoperso\"",
										"value": "tutoperso_Main.AsJSON"
									}
								},
								{
									"id": "set-item",
									"objectClass": "LocalStorage",
									"sid": 383727538133095,
									"parameters": {
										"key": "\"def_tutoperso\"",
										"value": "tutoperso_Defausse.AsJSON"
									}
								}
							],
							"sid": 175933936605134
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "RefreshMain",
									"sid": 558369860074604
								}
							],
							"sid": 121388421344061
						}
					]
				}
			]
		},
		{
			"functionName": "RefreshMain",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "FamCard",
					"sid": 820021451649882
				}
			],
			"sid": 503561412641945,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 511472914216111,
							"parameters": {
								"name": "\"i\"",
								"start-index": "0",
								"end-index": "tutoperso_Main.Width - 1"
							}
						}
					],
					"actions": [],
					"sid": 490931022374250,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 345421328305360,
									"parameters": {
										"first-value": "left(tutoperso_Main.At(loopindex(\"i\")), 3)\r\n",
										"comparison": 0,
										"second-value": "\"DEF\""
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 995563768259905,
									"parameters": {
										"object-to-create": "CardDef",
										"layer": "\"background\"",
										"x": "480 + loopindex(\"i\") * 160",
										"y": "360",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "CardDef",
									"sid": 894934048006603,
									"parameters": {
										"instance-variable": "IndexMain",
										"value": "loopindex (\"i\")"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "CardDef",
									"sid": 723708398480361,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "move-to-top",
									"objectClass": "CardDef",
									"sid": 427314607830770
								}
							],
							"sid": 596838579672444
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 789001456976528,
									"parameters": {
										"first-value": "left(tutoperso_Main.At(loopindex(\"i\")), 3)\r\n",
										"comparison": 0,
										"second-value": "\"ATK\""
									}
								}
							],
							"actions": [
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 181279026900943,
									"parameters": {
										"object-to-create": "CardAtk",
										"layer": "\"background\"",
										"x": "480 + loopindex(\"i\") * 160 ",
										"y": "660",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "CardAtk",
									"sid": 640938907027652,
									"parameters": {
										"instance-variable": "IndexMain",
										"value": "loopindex (\"i\")"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "CardAtk",
									"sid": 998151370897352,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "move-to-top",
									"objectClass": "CardAtk",
									"sid": 881786921370226
								}
							],
							"sid": 336037496995177
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "dbg",
							"sid": 519326163406795,
							"parameters": {
								"text": "\"Refresh OK\""
							}
						}
					],
					"sid": 361809520280821
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 938177042101816
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "deck",
					"sid": 920497008249584,
					"parameters": {
						"text": "\"Deck: \" & tutoperso_Deck.Width"
					}
				},
				{
					"id": "set-text",
					"objectClass": "defausse",
					"sid": 484277926536424,
					"parameters": {
						"text": "\"Défausse: \" & tutoperso_Defausse.Width"
					}
				},
				{
					"id": "set-text",
					"objectClass": "main",
					"sid": 991268286815822,
					"parameters": {
						"text": "\"Main: \" & tutoperso_Main.Width"
					}
				}
			],
			"sid": 211457593285388
		}
	],
	"sid": 822543069397088
}